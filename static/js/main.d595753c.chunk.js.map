{"version":3,"sources":["components/DataTable/TableHead.js","components/DataTable/TableRow.js","components/DataTable/index.js","Demo.js","index.js"],"names":["TableHead","props","columns","isSelectAll","isSticky","onSelectionChange","TableHeadWrapper","TableHeadColumn","className","type","checked","onChange","e","target","map","column","style","width","flex","key","id","numeric","label","TableRow","config","onClick","row","selected","data-row-id","_","height","rowHeight","top","rowStartIndex","stopPropagation","keys","index","DataTable","state","computedRows","rows","slice","visibleRows","isLoading","page","tableRef","React","createRef","tableBodyRef","this","onLoadMore","tableEle","current","tableBodyEle","addEventListener","tableScrollTop","scrollTop","tableOffsetHeight","clientHeight","tableBodyScrollHeight","scrollHeight","_throttle","_handleRowVisibility","bind","setState","_loadMore","callback","limit","wait","apply","arguments","setTimeout","scrollOffset","currentVisibleRowIndex","Math","floor","prevRowIndex","nextRowIndex","mutatedComputedRows","forEach","push","nextPage","then","nextRows","prevState","computedRow","find","isSelected","mutatedRows","filter","_recomputeRows","onRowClick","stickyHeader","length","rowConfig","tableHeadCommonProps","_selectAllHandler","tableHeight","data-is-loading","ref","cellPadding","cellSpacing","_rowSelectionChangeHandler","Component","Demo","errorToast","loadRows","catch","err","console","error","finally","thumbnail","src","thumbnailUrl","alt","title","url","pageNumber","fetch","res","json","generateRows","window","open","log","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d595753c.chunk.js","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst TableHead = props => {\n  const { columns, isSelectAll, isSticky, onSelectionChange } = props;\n\n  const TableHeadWrapperTr = \"tr\";\n  const TableHeadWrapperTh = \"th\";\n  const TableHeadDiv = \"div\";\n  const TableHeadWrapper = isSticky ? TableHeadDiv : TableHeadWrapperTr;\n  const TableHeadColumn = isSticky ? TableHeadDiv : TableHeadWrapperTh;\n\n  return (\n    <TableHeadWrapper\n      className={`table-head ${isSticky ? \"table-head-sticky\" : \"\"}`}\n    >\n      <TableHeadColumn className=\"table-head-column\">\n        <input\n          type=\"checkbox\"\n          className=\"checkbox\"\n          checked={!!isSelectAll}\n          onChange={e => {\n            onSelectionChange && onSelectionChange(e.target.checked);\n          }}\n        />\n      </TableHeadColumn>\n\n      {columns.map(column => {\n        const style = {};\n        if (column.width) {\n          style.width = column.width;\n        } else {\n          style.flex = \"1\";\n        }\n\n        return (\n          <TableHeadColumn\n            key={column.id}\n            className={`table-head-column ${\n              column.numeric ? \"table-head-column_is-numeric\" : \"\"\n            }`}\n            style={style}\n          >\n            {column.label}\n          </TableHeadColumn>\n        );\n      })}\n    </TableHeadWrapper>\n  );\n};\n\nTableHead.propTypes = {\n  columns: PropTypes.arrayOf(\n    PropTypes.exact({\n      id: PropTypes.string.isRequired,\n      label: PropTypes.oneOfType([PropTypes.string, PropTypes.element])\n        .isRequired,\n      numeric: PropTypes.bool,\n      width: PropTypes.string,\n    })\n  ).isRequired,\n  isSelectAll: PropTypes.bool,\n  isSticky: PropTypes.bool.isRequired,\n  onSelectionChange: PropTypes.func,\n};\n\nexport default TableHead;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { TableRowPropValidator } from \"components/DataTable/helpers\";\n\nconst TableRow = props => {\n  const { config, onClick, onSelectionChange, row } = props;\n  const { id, selected, ...columns } = row;\n\n  return (\n    <tr\n      className=\"table-row\"\n      data-row-id={id}\n      onClick={_ => onClick && onClick()}\n      style={{\n        height: `${config.rowHeight}px`,\n        top: `${config.rowStartIndex}px`,\n      }}\n    >\n      <td className=\"table-row-item\">\n        <input\n          type=\"checkbox\"\n          className=\"checkbox\"\n          checked={!!selected}\n          onClick={e => {\n            e.stopPropagation();\n          }}\n          onChange={e => {\n            onSelectionChange && onSelectionChange(e.target.checked);\n          }}\n        />\n      </td>\n\n      {config.keys.map((column, index) => {\n        const style = {};\n        if (config.width[index]) {\n          style.width = config.width[index];\n        } else {\n          style.flex = \"1\";\n        }\n\n        return (\n          <td\n            key={`TableRow_${column}_${id}`}\n            style={style}\n            className={`table-row-item ${\n              config.numeric[index] ? \"table-row-item_is-numeric\" : \"\"\n            }`}\n          >\n            {columns[column]}\n          </td>\n        );\n      })}\n    </tr>\n  );\n};\n\nTableRow.propTypes = {\n  config: PropTypes.exact({\n    keys: PropTypes.arrayOf(PropTypes.string).isRequired,\n    width: PropTypes.arrayOf(PropTypes.string).isRequired,\n    numeric: PropTypes.arrayOf(PropTypes.bool).isRequired,\n    rowHeight: PropTypes.number.isRequired,\n    rowStartIndex: PropTypes.number.isRequired,\n  }).isRequired,\n  onClick: PropTypes.func,\n  onSelectionChange: PropTypes.func,\n  row: TableRowPropValidator,\n};\n\nexport default TableRow;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport TableHead from \"components/DataTable/TableHead\";\nimport TableRow from \"components/DataTable/TableRow\";\nimport {\n  GreaterThanZeroPropValidator,\n  TableRowPropValidator,\n} from \"components/DataTable/helpers\";\n\nclass DataTable extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      computedRows: props.rows.slice(0, props.visibleRows * 2),\n      isLoading: false,\n      rows: props.rows,\n      rowStartIndex: 0,\n      page: 0,\n      visibleRows: props.visibleRows,\n    };\n\n    this.tableRef = React.createRef();\n    this.tableBodyRef = React.createRef();\n  }\n\n  componentDidMount() {\n    const { onLoadMore } = this.props;\n    if (onLoadMore) {\n      const tableEle = this.tableRef.current;\n      const tableBodyEle = this.tableBodyRef.current;\n      tableEle.addEventListener(\"scroll\", e => {\n        // Compute client height on scroll for dynamic height\n        const tableScrollTop = tableEle.scrollTop;\n        const tableOffsetHeight = tableEle.clientHeight;\n        const tableBodyScrollHeight = tableBodyEle.scrollHeight;\n\n        this._throttle(this._handleRowVisibility.bind(this), 10)(\n          tableScrollTop\n        );\n\n        if (!this.state.isLoading) {\n          if (tableBodyScrollHeight - tableOffsetHeight <= tableScrollTop) {\n            this.setState({ isLoading: true }, () => {\n              this._loadMore();\n            });\n          }\n        }\n      });\n    }\n  }\n\n  /**\n   * Throttling event\n   * @param {Function} callback\n   * @param {number} limit\n   * @returns {Function}\n   * @private\n   */\n  _throttle(callback, limit) {\n    let wait = false;\n    return function() {\n      if (!wait) {\n        callback.apply(null, arguments);\n        wait = true;\n        setTimeout(function() {\n          wait = false;\n        }, limit);\n      }\n    };\n  }\n\n  /**\n   * Handles row virtualization logic\n   * @param {number} scrollOffset\n   * @private\n   */\n  _handleRowVisibility(scrollOffset) {\n    const { rowHeight } = this.props;\n    const { rows, visibleRows } = this.state;\n\n    const currentVisibleRowIndex = Math.floor(scrollOffset / rowHeight);\n    const prevRowIndex = currentVisibleRowIndex - visibleRows * 2;\n    const nextRowIndex = currentVisibleRowIndex + visibleRows * 4;\n    const rowStartIndex = prevRowIndex > 0 ? prevRowIndex : 0;\n\n    const mutatedComputedRows = [];\n    rows\n      .slice(rowStartIndex, currentVisibleRowIndex)\n      .forEach(row => mutatedComputedRows.push(row));\n    rows\n      .slice(currentVisibleRowIndex, nextRowIndex)\n      .forEach(row => mutatedComputedRows.push(row));\n\n    this.setState({\n      computedRows: mutatedComputedRows,\n      rowStartIndex: rowStartIndex,\n    });\n  }\n\n  /**\n   * Handles loadMore for infinite scroll\n   * @private\n   */\n  _loadMore() {\n    const { onLoadMore } = this.props;\n    const { page } = this.state;\n\n    const nextPage = page + 1;\n    onLoadMore(nextPage).then(nextRows => {\n      this.setState(prevState => ({\n        isLoading: false,\n        page: nextPage,\n        rows: [...prevState.rows, ...nextRows],\n      }));\n    });\n  }\n\n  /**\n   * Recomputes the row for any updates\n   * @private\n   */\n  _recomputeRows() {\n    const { rows, computedRows } = this.state;\n\n    const mutatedComputedRows = computedRows.map(computedRow => {\n      return rows.find(row => row.id === computedRow.id);\n    });\n\n    this.setState({ computedRows: mutatedComputedRows });\n  }\n\n  /**\n   * Handles row selection change event.\n   * @param {number} index\n   * @param {boolean} isSelected\n   * @private\n   */\n  _rowSelectionChangeHandler(index, isSelected) {\n    const { onSelectionChange } = this.props;\n    this.setState(\n      prevState => {\n        const mutatedRows = [...prevState.rows];\n        mutatedRows[index].selected = isSelected;\n\n        // Trigger selectionChange\n        onSelectionChange &&\n          onSelectionChange(\n            mutatedRows.filter(row => !!row.selected).map(row => row.id)\n          );\n\n        return {\n          rows: mutatedRows,\n        };\n      },\n      () => {\n        this._recomputeRows();\n      }\n    );\n  }\n\n  /**\n   * Handles row selection change event.\n   * @param {boolean} isSelected\n   * @private\n   */\n  _selectAllHandler(isSelected) {\n    const { onSelectionChange } = this.props;\n    this.setState(\n      prevState => {\n        const mutatedRows = [...prevState.rows].map(row => ({\n          ...row,\n          selected: isSelected,\n        }));\n\n        // Trigger selectionChange\n        onSelectionChange &&\n          onSelectionChange(\n            (isSelected ? prevState.rows : []).map(row => row.id)\n          );\n\n        return {\n          rows: mutatedRows,\n        };\n      },\n      () => {\n        this._recomputeRows();\n      }\n    );\n  }\n\n  render() {\n    const {\n      className,\n      columns,\n      config,\n      onRowClick,\n      rowHeight,\n      visibleRows,\n    } = this.props;\n    const { computedRows, isLoading, rows, rowStartIndex } = this.state;\n\n    const isSticky = !!config.stickyHeader;\n    const isSelectAll =\n      rows.length > 0 &&\n      rows.filter(row => !!row.selected).length === rows.length;\n    const rowConfig = {\n      keys: [],\n      numeric: [],\n      rowHeight: rowHeight,\n      width: [],\n    };\n    columns.forEach(column => {\n      rowConfig.keys.push(column.id);\n      rowConfig.numeric.push(column.numeric);\n      rowConfig.width.push(column.width);\n    });\n\n    const tableHeadCommonProps = {\n      columns: columns,\n      isSelectAll: isSelectAll,\n      onSelectionChange: this._selectAllHandler.bind(this),\n    };\n\n    let tableHeight = visibleRows * rowHeight;\n    if (rows.length === 0) {\n      tableHeight = 50;\n    }\n\n    return (\n      <div\n        className={`data-table ${className || \"\"}`}\n        data-is-loading={isLoading}\n      >\n        {isLoading && <div className=\"loader\" />}\n        {isSticky && <TableHead {...tableHeadCommonProps} isSticky={true} />}\n\n        <table\n          ref={this.tableRef}\n          cellPadding=\"0\"\n          cellSpacing=\"0\"\n          style={{\n            height: `${tableHeight}px`,\n          }}\n        >\n          {!isSticky && (\n            <thead>\n              <TableHead {...tableHeadCommonProps} isSticky={false} />\n            </thead>\n          )}\n          <tbody\n            ref={this.tableBodyRef}\n            className=\"data-table-body\"\n            style={{ height: `${rows.length * rowHeight}px` }}\n          >\n            {rows.length === 0 && (\n              <tr className=\"table-row empty-rows\">\n                <td className=\"table-row-item\">No Data</td>\n              </tr>\n            )}\n            {rows.length > 0 &&\n              computedRows.map((row, index) => (\n                <TableRow\n                  key={`DataTable_TableRow_${row.id}`}\n                  config={{\n                    ...rowConfig,\n                    rowStartIndex: (rowStartIndex + index) * rowHeight,\n                  }}\n                  row={row}\n                  onClick={column => onRowClick(row, rowStartIndex + index)}\n                  onSelectionChange={isSelected =>\n                    this._rowSelectionChangeHandler(\n                      rowStartIndex + index,\n                      isSelected\n                    )\n                  }\n                />\n              ))}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nDataTable.propTypes = {\n  className: PropTypes.string,\n  config: PropTypes.shape({\n    stickyHeader: PropTypes.bool,\n  }).isRequired,\n  columns: PropTypes.arrayOf(\n    PropTypes.exact({\n      id: PropTypes.string.isRequired,\n      label: PropTypes.oneOfType([PropTypes.string, PropTypes.element])\n        .isRequired,\n      numeric: PropTypes.bool,\n      width: PropTypes.string,\n    })\n  ).isRequired,\n  onLoadMore: PropTypes.func,\n  onRowClick: PropTypes.func,\n  onSelectionChange: PropTypes.func,\n  rows: PropTypes.arrayOf(TableRowPropValidator).isRequired,\n  rowHeight: GreaterThanZeroPropValidator,\n  visibleRows: GreaterThanZeroPropValidator,\n};\n\nexport default DataTable;\nexport { TableRow };\n","import React from \"react\";\nimport DataTable from \"components/DataTable/index\";\nimport \"static/css/app.scss\";\nimport \"static/css/datatable.scss\";\n\nexport default class Demo extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      isLoading: true,\n      errorToast: false,\n      rows: [],\n    };\n  }\n\n  componentDidMount() {\n    this.loadRows(0)\n      .then(rows => {\n        this.setState({ rows: rows });\n      })\n      .catch(err => {\n        this.setState(\n          {\n            errorToast: \"Something went wrong. Check console for more info.\",\n          },\n          () => {\n            setTimeout(() => {\n              this.setState({\n                errorToast: false,\n              });\n            }, 2500);\n          }\n        );\n        console.error(err);\n      })\n      .finally(_ => this.setState({ isLoading: false }));\n  }\n\n  /**\n   * Loads data from endpoint\n   * @param {!Array<?>} rows\n   */\n  generateRows(rows) {\n    return rows.map(row => ({\n      id: `album_${row.id}`,\n      thumbnail: (\n        <img\n          className=\"demo-thumbnail\"\n          src={row.thumbnailUrl}\n          alt={row.title}\n        />\n      ),\n      title: <span className=\"demo-title\">{row.title}</span>,\n      url: row.url,\n    }));\n  }\n\n  /**\n   * Loads data from endpoint\n   * @param {number} pageNumber\n   */\n  loadRows(pageNumber) {\n    return fetch(\n      `https://jsonplaceholder.typicode.com/photos?_page=${pageNumber + 1}`\n    )\n      .then(res => res.json())\n      .then(this.generateRows.bind(this));\n  }\n\n  render() {\n    const { isLoading, rows } = this.state;\n    return (\n      <div className=\"demo\">\n        <div className=\"loader\" data-is-loading={isLoading} />\n        <h1 className=\"header\">Photo Album</h1>\n        {!isLoading && rows.length && (\n          <DataTable\n            onLoadMore={this.loadRows.bind(this)}\n            onRowClick={row => {\n              window.open(row.url, \"_blank\");\n              console.log(row);\n            }}\n            onSelectionChange={console.log}\n            config={{ stickyHeader: true }}\n            columns={[\n              {\n                id: \"thumbnail\",\n                label: \"Thumbnail\",\n                numeric: false,\n                width: \"250px\",\n              },\n              {\n                id: \"title\",\n                label: \"Title\",\n                numeric: false,\n              },\n            ]}\n            rows={rows}\n            rowHeight={200}\n            visibleRows={3}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Demo from \"Demo\";\n\nReactDOM.render(<Demo />, document.getElementById(\"root\"));\n"],"sourceRoot":""}